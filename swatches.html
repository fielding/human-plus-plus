<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Human++ — A color scheme for the post-artisanal coding era</title>
  <meta name="description" content="Code is cheap. Intent is scarce. Human++ is a Base24 color scheme that makes human judgment visible at a glance.">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/default-dark.min.css">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --base00: #1b1d20;
      --base01: #24262a;
      --base02: #32343a;
      --base03: #8a7b6b;
      --base04: #8a8279;
      --base05: #e5ded6;
      --base06: #f2ebe4;
      --base07: #faf5ef;
      --base08: #d9048e;
      --base09: #f26c33;
      --base0A: #f2a633;
      --base0B: #04b372;
      --base0C: #1ad0d6;
      --base0D: #317ad6;
      --base0E: #8d57ff;
      --base0F: #bbff00;
      --base10: #c8518f;
      --base11: #d68c6f;
      --base12: #dfb683;
      --base13: #61b186;
      --base14: #72d1d5;
      --base15: #5283c5;
      --base16: #8f72e3;
      --base17: #d2fc91;
    }
    
    /* highlight.js Human++ theme */
    .hljs {
      background: var(--base00);
      color: var(--base05);
    }
    .hljs-comment,
    .hljs-quote { color: var(--base03); }
    .hljs-keyword,
    .hljs-selector-tag { color: var(--base10); }
    .hljs-string,
    .hljs-template-string { color: var(--base12); }
    .hljs-title,
    .hljs-title.function_,
    .hljs-function { color: var(--base13); }
    .hljs-type,
    .hljs-built_in,
    .hljs-class { color: var(--base14); }
    .hljs-number,
    .hljs-literal { color: var(--base16); }
    .hljs-variable,
    .hljs-template-variable,
    .hljs-attr { color: var(--base11); }
    .hljs-attribute { color: var(--base15); }
    .hljs-symbol,
    .hljs-bullet { color: var(--base0B); }
    .hljs-subst { color: var(--base05); }
    .hljs-section { color: var(--base0D); font-weight: bold; }
    .hljs-selector-class,
    .hljs-selector-id { color: var(--base14); }
    .hljs-emphasis { font-style: italic; }
    .hljs-strong { font-weight: bold; }
    .hljs-link { color: var(--base0D); text-decoration: underline; }
    .hljs-addition { color: var(--base0B); background-color: rgba(4, 179, 114, 0.1); }
    .hljs-deletion { color: var(--base08); background-color: rgba(217, 4, 142, 0.1); }

    /* Human++ marker highlighting */
    .hljs-comment.humanpp-attention { color: var(--base0F); font-weight: bold; }
    .hljs-comment.humanpp-uncertainty { color: var(--base0E); font-weight: bold; }
    .hljs-comment.humanpp-reference { color: var(--base0C); font-weight: bold; }
    

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', sans-serif;
      background: var(--base00);
      color: var(--base05);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* Hero */
    .hero {
      min-height: 90vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 80px 0;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 20%;
      right: -10%;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, var(--base0E) 0%, transparent 70%);
      opacity: 0.08;
      pointer-events: none;
    }

    .hero::after {
      content: '';
      position: absolute;
      bottom: 10%;
      left: -5%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, var(--base0F) 0%, transparent 70%);
      opacity: 0.06;
      pointer-events: none;
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .logo {
      font-size: 72px;
      font-weight: 700;
      letter-spacing: -3px;
      margin-bottom: 8px;
      background: linear-gradient(135deg, var(--base07) 0%, var(--base05) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .logo span {
      background: linear-gradient(135deg, var(--base0F) 0%, var(--base0B) 100%);
      -webkit-background-clip: text;
      background-clip: text;
    }

    .tagline {
      font-size: 28px;
      font-weight: 300;
      color: var(--base04);
      margin-bottom: 32px;
    }

    .tagline strong {
      color: var(--base07);
      font-weight: 500;
    }

    .hero-description {
      font-size: 18px;
      max-width: 600px;
      color: var(--base05);
      margin-bottom: 48px;
    }

    .cta-row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 14px 28px;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 500;
      text-decoration: none;
      transition: all 0.2s;
      cursor: pointer;
      border: none;
    }

    .btn-primary {
      background: var(--base0F);
      color: var(--base00);
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(187, 255, 0, 0.3);
    }

    .btn-secondary {
      background: var(--base02);
      color: var(--base06);
    }
    .btn-secondary:hover {
      background: var(--base01);
    }

    /* Philosophy section */
    .section {
      padding: 100px 0;
    }

    .section-header {
      text-align: center;
      margin-bottom: 64px;
    }

    .section-title {
      font-size: 36px;
      font-weight: 600;
      color: var(--base07);
      margin-bottom: 16px;
    }

    .section-subtitle {
      font-size: 18px;
      color: var(--base04);
      max-width: 600px;
      margin: 0 auto;
    }

    .philosophy-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
    }

    .philosophy-card {
      background: var(--base01);
      border-radius: 16px;
      padding: 32px;
      border: 1px solid var(--base02);
    }

    .philosophy-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-bottom: 20px;
    }

    .philosophy-card h3 {
      font-size: 20px;
      color: var(--base07);
      margin-bottom: 12px;
    }

    .philosophy-card p {
      font-size: 15px;
      color: var(--base04);
    }

    /* Palette section */
    .palette-section {
      background: var(--base01);
      border-top: 1px solid var(--base02);
      border-bottom: 1px solid var(--base02);
    }

    .palette-row {
      margin-bottom: 48px;
    }

    .palette-row:last-child {
      margin-bottom: 0;
    }

    .palette-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--base04);
      margin-bottom: 16px;
    }

    .swatches {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 8px;
    }

    .swatch {
      aspect-ratio: 1;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      position: relative;
    }

    .swatch:hover {
      transform: scale(1.08);
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
      z-index: 10;
    }

    .swatch-id {
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .swatch-hex {
      font-size: 10px;
      font-family: 'SF Mono', 'Fira Code', monospace;
      opacity: 0.8;
    }

    .swatch-role {
      font-size: 8px;
      opacity: 0.6;
      margin-top: 4px;
      text-align: center;
      padding: 0 4px;
    }

    /* Comparison */
    .comparison-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 12px;
    }

    .comparison-pair {
      display: flex;
      flex-direction: column;
      gap: 4px;
      text-align: center;
    }

    .comparison-swatch {
      height: 56px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s;
    }

    .comparison-swatch:hover {
      transform: scale(1.05);
    }

    .comparison-label {
      font-size: 10px;
      color: var(--base04);
      margin-top: 8px;
    }

    /* Markers section */
    .markers-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      margin-bottom: 48px;
    }

    .marker-card {
      background: var(--base01);
      border-radius: 16px;
      padding: 32px;
      text-align: center;
      border: 1px solid var(--base02);
      transition: border-color 0.2s;
    }

    .marker-card:hover {
      border-color: var(--base04);
    }

    .marker-symbol {
      font-size: 48px;
      font-weight: 700;
      font-family: 'SF Mono', 'Fira Code', monospace;
      margin-bottom: 12px;
    }

    .marker-name {
      font-size: 18px;
      color: var(--base07);
      margin-bottom: 8px;
    }

    .marker-desc {
      font-size: 14px;
      color: var(--base04);
    }

    /* Code preview */
    .code-preview {
      background: var(--base00);
      border: 1px solid var(--base02);
      border-radius: 12px;
      padding: 24px;
      font-family: 'SF Mono', 'Fira Code', Consolas, monospace;
      font-size: 14px;
      line-height: 1.8;
      overflow-x: auto;
    }

    .code-preview pre {
      margin: 0;
    }

    .code-preview code {
      font-family: 'SF Mono', 'Fira Code', Consolas, monospace;
    }

    .code-comment { color: var(--base03); }
    .code-keyword { color: var(--base10); }
    .code-string { color: var(--base12); }
    .code-function { color: var(--base13); }
    .code-type { color: var(--base14); }
    .code-number { color: var(--base16); }
    .code-operator { color: var(--base04); }

    /* Code tabs */
    .code-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
    }

    .code-tab {
      padding: 10px 20px;
      background: var(--base01);
      border: 1px solid var(--base02);
      border-radius: 8px;
      color: var(--base04);
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .code-tab:hover {
      background: var(--base02);
      color: var(--base05);
    }

    .code-tab.active {
      background: var(--base02);
      color: var(--base07);
      border-color: var(--base0D);
    }

    .code-panels {
      position: relative;
    }

    .code-panel {
      display: none;
      background: var(--base00);
      border: 1px solid var(--base02);
      border-radius: 12px;
      padding: 24px;
      overflow-x: auto;
    }

    .code-panel.active {
      display: block;
    }

    .code-panel pre {
      margin: 0;
    }

    .code-panel code {
      font-family: 'SF Mono', 'Fira Code', Consolas, monospace;
      font-size: 14px;
      line-height: 1.8;
    }

    /* Install section */
    .install-code {
      background: var(--base00);
      border: 1px solid var(--base02);
      border-radius: 12px;
      padding: 24px;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 14px;
      margin-bottom: 32px;
      position: relative;
    }

    .install-code .prompt {
      color: var(--base0B);
    }

    .install-code .command {
      color: var(--base07);
    }

    .install-code .comment {
      color: var(--base03);
    }

    .apps-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
    }

    .app-card {
      background: var(--base01);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      border: 1px solid var(--base02);
    }

    .app-card h4 {
      font-size: 14px;
      color: var(--base07);
      margin-bottom: 4px;
    }

    .app-card p {
      font-size: 12px;
      color: var(--base04);
    }

    /* Footer */
    .footer {
      padding: 48px 0;
      text-align: center;
      border-top: 1px solid var(--base02);
    }

    .footer p {
      font-size: 14px;
      color: var(--base04);
    }

    .footer a {
      color: var(--base0D);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: var(--base02);
      color: var(--base07);
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 13px;
      opacity: 0;
      transition: all 0.3s;
      pointer-events: none;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    /* Responsive */
    @media (max-width: 900px) {
      .philosophy-grid,
      .markers-grid {
        grid-template-columns: 1fr;
      }
      .swatches,
      .comparison-grid {
        grid-template-columns: repeat(4, 1fr);
      }
      .apps-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      .logo {
        font-size: 48px;
      }
      .tagline {
        font-size: 20px;
      }
    }

    @media (max-width: 600px) {
      .swatches,
      .comparison-grid {
        grid-template-columns: repeat(4, 1fr);
      }
      .apps-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="logo">Human<span>++</span></h1>
        <p class="tagline"><strong>Code is cheap.</strong> Intent is scarce.</p>
        <p class="hero-description">
          A Base24 color scheme for the post-artisanal coding era. As models write more code, Human++ makes human judgment visible at a glance through a two-tier accent system and lightweight annotation markers.
        </p>
        <div class="cta-row">
          <a href="https://github.com/fielding/human-plus-plus" class="btn btn-primary">
            Get Human++
          </a>
          <a href="#palette" class="btn btn-secondary">
            View Palette
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Philosophy -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">The Philosophy</h2>
        <p class="section-subtitle">Traditional syntax highlighting treats all code equally. Human++ doesn't.</p>
      </div>

      <div class="philosophy-grid">
        <div class="philosophy-card">
          <div class="philosophy-icon" style="background: var(--base02); color: var(--base12);">Q</div>
          <h3>Quiet Syntax</h3>
          <p>Everyday code — keywords, strings, functions — uses muted colors that fade into the background. You've seen this code a thousand times.</p>
        </div>

        <div class="philosophy-card">
          <div class="philosophy-icon" style="background: linear-gradient(135deg, var(--base08), var(--base09)); color: var(--base00);">!</div>
          <h3>Loud Diagnostics</h3>
          <p>Errors, warnings, and human markers demand attention with vibrant, saturated colors. When you see color, it means something.</p>
        </div>

        <div class="philosophy-card">
          <div class="philosophy-icon" style="background: var(--base0F); color: var(--base00);">></div>
          <h3>Terminal Exception</h3>
          <p>Terminal output is intentional — you typed it. Terminals get loud colors for normal text, quiet for bright. Inverted from the editor.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Palette -->
  <section class="section palette-section" id="palette">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">The Palette</h2>
        <p class="section-subtitle">Cool Balanced — cool charcoal grays, warm cream text, 16 accent colors.</p>
      </div>

      <div class="palette-row">
        <div class="palette-label">Grayscale (base00–07)</div>
        <div class="swatches" id="grayscale"></div>
      </div>

      <div class="palette-row">
        <div class="palette-label">Loud Accents — Diagnostics & Signals (base08–0F)</div>
        <div class="swatches" id="loud"></div>
      </div>

      <div class="palette-row">
        <div class="palette-label">Quiet Accents — Syntax & UI (base10–17)</div>
        <div class="swatches" id="quiet"></div>
      </div>

      <div class="palette-row">
        <div class="palette-label">Loud vs Quiet Comparison</div>
        <div class="comparison-grid" id="comparison"></div>
      </div>
    </div>
  </section>

  <!-- Human Markers -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Human Intent Markers</h2>
        <p class="section-subtitle">Lightweight punctuation markers that flag human judgment in comments.</p>
      </div>

      <div class="markers-grid">
        <div class="marker-card">
          <div class="marker-symbol" style="color: var(--base0F);">!!</div>
          <div class="marker-name">Attention</div>
          <div class="marker-desc">Pay attention here. Human decision that matters.</div>
        </div>

        <div class="marker-card">
          <div class="marker-symbol" style="color: var(--base0E);">??</div>
          <div class="marker-name">Uncertainty</div>
          <div class="marker-desc">I'm not confident. Please review this.</div>
        </div>

        <div class="marker-card">
          <div class="marker-symbol" style="color: var(--base0C);">>></div>
          <div class="marker-name">Reference</div>
          <div class="marker-desc">See related code or documentation.</div>
        </div>
      </div>

      <div class="code-preview">
<pre><code class="language-typescript">// Regular comment stays calm (base03)

async function processOrder(order: Order) {
  // !! Critical: legacy billing depends on this exact format
  const invoice = formatLegacy(order);

  if (order.total > 10000) {
    // ?? Not sure this handles international tax correctly
    await flagForReview(invoice);
  }

  // >> See billing/tax.ts for the tax calculation logic
  return finalize(invoice);
}</code></pre>
      </div>
    </div>
  </section>

  <!-- Code Showcase -->
  <section class="section" id="code">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Theme in Action</h2>
        <p class="section-subtitle">See Human++ across different languages. Notice how syntax stays quiet while markers pop.</p>
      </div>

      <div class="code-tabs">
        <button class="code-tab active" data-lang="typescript">TypeScript</button>
        <button class="code-tab" data-lang="python">Python</button>
        <button class="code-tab" data-lang="rust">Rust</button>
      </div>

      <div class="code-panels">
        <div class="code-panel active" id="panel-typescript">
          <pre><code class="language-typescript">interface User {
  id: string;
  email: string;
  createdAt: Date;
}

// !! Critical: rate limiting depends on this cache key format
async function getUser(id: string): Promise&lt;User | null&gt; {
  const cached = await redis.get(`user:${id}`);
  if (cached) {
    return JSON.parse(cached);
  }

  // ?? Should we add retry logic here?
  const user = await db.users.findUnique({ where: { id } });

  if (user) {
    // >> See config.ts for TTL settings
    await redis.set(`user:${id}`, JSON.stringify(user), 'EX', 3600);
  }

  return user;
}</code></pre>
        </div>

        <div class="code-panel" id="panel-python">
          <pre><code class="language-python">from dataclasses import dataclass
from typing import Optional
import asyncio

@dataclass
class Order:
    id: str
    total: float
    items: list[str]

# !! Critical: this runs in production every 5 minutes
async def process_pending_orders() -> int:
    orders = await db.fetch_pending()
    processed = 0

    for order in orders:
        # ?? Not sure if we need to handle partial refunds here
        if order.total > 10000:
            await flag_for_review(order)
            continue

        # >> See payment_gateway.py for Stripe integration
        result = await charge_customer(order)
        if result.success:
            processed += 1

    return processed</code></pre>
        </div>

        <div class="code-panel" id="panel-rust">
          <pre><code class="language-rust">use std::collections::HashMap;

#[derive(Debug, Clone)]
struct Config {
    max_retries: u32,
    timeout_ms: u64,
}

// !! Critical: this is called on every request
pub fn validate_token(token: &str) -> Result&lt;Claims, AuthError&gt; {
    let parts: Vec&lt;&str&gt; = token.split('.').collect();

    if parts.len() != 3 {
        return Err(AuthError::MalformedToken);
    }

    // ?? Should we cache decoded tokens?
    let claims = decode_jwt(parts[1])?;

    // >> See crypto.rs for signature verification
    verify_signature(token, &claims.key_id)?;

    Ok(claims)
}</code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- Install -->
  <section class="section" id="install">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Get Started</h2>
        <p class="section-subtitle">Human++ works with tinty and standard Base24 tooling.</p>
      </div>

      <div class="install-code">
<span class="comment"># Clone the repo</span>
<span class="prompt">$</span> <span class="command">git clone https://github.com/fielding/human-plus-plus</span>

<span class="comment"># Build all theme files from palette.toml</span>
<span class="prompt">$</span> <span class="command">python3 build.py</span>

<span class="comment"># Apply with tinty</span>
<span class="prompt">$</span> <span class="command">tinty apply base24-human-plus-plus</span>
      </div>

      <div class="apps-grid">
        <div class="app-card">
          <h4>Ghostty</h4>
          <p>ghostty/config</p>
        </div>
        <div class="app-card">
          <h4>VS Code</h4>
          <p>base-cool-balanced-v2.json</p>
        </div>
        <div class="app-card">
          <h4>Vim/Neovim</h4>
          <p>vim/colors/</p>
        </div>
        <div class="app-card">
          <h4>iTerm2</h4>
          <p>iterm/</p>
        </div>
        <div class="app-card">
          <h4>Sketchybar</h4>
          <p>sketchybar/colors.sh</p>
        </div>
        <div class="app-card">
          <h4>JankyBorders</h4>
          <p>borders/bordersrc</p>
        </div>
        <div class="app-card">
          <h4>skhd</h4>
          <p>skhd/modes.sh</p>
        </div>
        <div class="app-card">
          <h4>Shell</h4>
          <p>shell/</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>Human++ is MIT licensed. Made by <a href="https://github.com/fielding">fielding</a>.</p>
    </div>
  </footer>

  <div class="toast" id="toast">Copied!</div>

  <script>
    const palette = {
      base00: { hex: '#1b1d20', role: 'background' },
      base01: { hex: '#24262a', role: 'elevation' },
      base02: { hex: '#32343a', role: 'selection' },
      base03: { hex: '#8a7b6b', role: 'comments' },
      base04: { hex: '#8a8279', role: 'UI secondary' },
      base05: { hex: '#e5ded6', role: 'main text' },
      base06: { hex: '#f2ebe4', role: 'emphasis' },
      base07: { hex: '#faf5ef', role: 'brightest' },
      base08: { hex: '#d9048e', role: 'errors' },
      base09: { hex: '#f26c33', role: 'warnings' },
      base0A: { hex: '#f2a633', role: 'caution' },
      base0B: { hex: '#04b372', role: 'success' },
      base0C: { hex: '#1ad0d6', role: 'info' },
      base0D: { hex: '#317ad6', role: 'links' },
      base0E: { hex: '#8d57ff', role: 'special' },
      base0F: { hex: '#bbff00', role: 'human !!' },
      base10: { hex: '#c8518f', role: 'keywords' },
      base11: { hex: '#d68c6f', role: 'secondary' },
      base12: { hex: '#dfb683', role: 'strings' },
      base13: { hex: '#61b186', role: 'functions' },
      base14: { hex: '#72d1d5', role: 'types' },
      base15: { hex: '#5283c5', role: 'hints' },
      base16: { hex: '#8f72e3', role: 'constants' },
      base17: { hex: '#d2fc91', role: 'quiet lime' }
    };

    function isLight(hex) {
      const r = parseInt(hex.slice(1,3), 16);
      const g = parseInt(hex.slice(3,5), 16);
      const b = parseInt(hex.slice(5,7), 16);
      return (r * 0.299 + g * 0.587 + b * 0.114) > 140;
    }

    function createSwatch(key, data) {
      const textColor = isLight(data.hex) ? '#1b1d20' : '#faf5ef';
      const swatch = document.createElement('div');
      swatch.className = 'swatch';
      swatch.style.background = data.hex;
      swatch.style.color = textColor;
      swatch.innerHTML = `
        <span class="swatch-id">${key.replace('base', '')}</span>
        <span class="swatch-hex">${data.hex}</span>
        <span class="swatch-role">${data.role}</span>
      `;
      swatch.onclick = () => {
        navigator.clipboard.writeText(data.hex);
        showToast(`Copied ${data.hex}`);
      };
      return swatch;
    }

    function showToast(msg) {
      const toast = document.getElementById('toast');
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 1500);
    }

    // Render grayscale
    const grayscale = document.getElementById('grayscale');
    ['base00','base01','base02','base03','base04','base05','base06','base07'].forEach(key => {
      grayscale.appendChild(createSwatch(key, palette[key]));
    });

    // Render loud accents
    const loud = document.getElementById('loud');
    ['base08','base09','base0A','base0B','base0C','base0D','base0E','base0F'].forEach(key => {
      loud.appendChild(createSwatch(key, palette[key]));
    });

    // Render quiet accents
    const quiet = document.getElementById('quiet');
    ['base10','base11','base12','base13','base14','base15','base16','base17'].forEach(key => {
      quiet.appendChild(createSwatch(key, palette[key]));
    });

    // Render comparison
    const comparison = document.getElementById('comparison');
    const pairs = [
      ['base08', 'base10', 'Red'],
      ['base09', 'base11', 'Orange'],
      ['base0A', 'base12', 'Yellow'],
      ['base0B', 'base13', 'Green'],
      ['base0C', 'base14', 'Cyan'],
      ['base0D', 'base15', 'Blue'],
      ['base0E', 'base16', 'Purple'],
      ['base0F', 'base17', 'Lime'],
    ];

    pairs.forEach(([loudKey, quietKey, label]) => {
      const pair = document.createElement('div');
      pair.className = 'comparison-pair';

      const loudColor = palette[loudKey].hex;
      const quietColor = palette[quietKey].hex;

      pair.innerHTML = `
        <div class="comparison-swatch" style="background:${loudColor};color:${isLight(loudColor)?'#1b1d20':'#faf5ef'}" onclick="navigator.clipboard.writeText('${loudColor}');showToast('Copied ${loudColor}')">LOUD</div>
        <div class="comparison-swatch" style="background:${quietColor};color:${isLight(quietColor)?'#1b1d20':'#faf5ef'}" onclick="navigator.clipboard.writeText('${quietColor}');showToast('Copied ${quietColor}')">quiet</div>
        <div class="comparison-label">${label}</div>
      `;
      comparison.appendChild(pair);
    });

    // Custom Human++ marker highlighting for comments
    function highlightMarkers() {
      document.querySelectorAll('.hljs-comment').forEach(el => {
        const text = el.textContent;
        if (text.includes('!!')) {
          el.classList.add('humanpp-attention');
        } else if (text.includes('??')) {
          el.classList.add('humanpp-uncertainty');
        } else if (text.includes('>>')) {
          el.classList.add('humanpp-reference');
        }
      });
    }

    // Initialize highlight.js
    hljs.highlightAll();
    highlightMarkers();
    // Tab switching
    document.querySelectorAll('.code-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        // Update tabs
        document.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');

        // Update panels
        const lang = tab.dataset.lang;
        document.querySelectorAll('.code-panel').forEach(p => p.classList.remove('active'));
        document.getElementById(`panel-${lang}`).classList.add('active');
      });
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/rust.min.js"></script>
  <script>
    hljs.highlightAll();
    // Human++ marker highlighting
    function highlightMarkers() {
      document.querySelectorAll('.hljs-comment').forEach(el => {
        const text = el.textContent;
        if (text.includes('!!')) {
          el.classList.add('humanpp-attention');
        } else if (text.includes('??')) {
          el.classList.add('humanpp-uncertainty');
        } else if (text.includes('>>')) {
          el.classList.add('humanpp-reference');
        }
      });
    }
    highlightMarkers();
  </script>
</body>
</html>
